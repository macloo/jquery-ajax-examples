<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title> jQuery Example with $.ajax and $.each</title>
	<link rel="stylesheet" href="css/normalize.min.css">
	<link rel="stylesheet" href="css/presidents.css">
</head>
<body>
<h1>$.ajax() example with $.each()</h1>

<p>This example uses <code>$.each()</code> to ... (There are 45 presidents.)</p>

<p>First, jQuery loads the images into a CSS flexbox container, which distributes them in a grid. Note that by default, flexbox would distort the images that are shorter in height than others in their row; the property to correct that is <code>align-self</code>. Ideally, in this layout, all the images should be the same width and height. These images are all 300 pixels wide, but the height varies.</p>

<section id="presidents"></section>

<p>You should see 45 presidential portraits above.</p>

<!-- only scripts below this -->
<script src="js/jquery.min.js"></script>

<script>
$(document).ready(function() {
	// load the president images
	var num, filename, imgTag;
	for (var i=1; i<46; i++) {
		num = i.toString();
		if (i < 10) {
			num = "0" + num;
		}
		filename = "pr" + num + ".jpg";
		imgTag = '<img class="small-pres" src="images/' + filename + '" alt="President">';
		$('#presidents').append(imgTag);
	}

// show info when a president image is clicked
$('#presidents').on('click', 'img', function() {
	// use DOM to get pres number from image
	var whichClicked = $(this).index()+1;
	// we wouldn't need Ajax for this but we'll do it anyway
  $.ajax('js/pres.json', {
    success: function(result) {
      $.each(result, function(index, pres) {
				if (pres.Presidency == whichClicked) {
					alert(pres.President);
				}
			}); // end $.each
/*
{"Presidency":2,"President":"John Adams","Wikipedia-entry":"http://en.wikipedia.org/wiki/John_Adams","Took-office":"3/4/1797","Left-office":"3/4/1801","Party":"Federalist ","Home-state":"Massachusetts","Occupation":"Lawyer","College":"Harvard","Age-when-took-office":61,"Birth-date":"10/30/1735","Birthplace":"Quincy, Massachusetts","Death-date":"7/4/1826","Location-death":"Quincy, Massachusetts"},

        // see HTML to see why this 'index' works
    		var deal = $('.deal-' + index);
    		// this is same as prev example, but now with 'city'
    		deal.find('h3').html(dealItem.name);
    		deal.find('p').html(dealItem.price);
      });
*/
    },
		// give us a message if the JSON file didn't load correctly
		error: function(request, errorType, errorMessage) {
      alert('Error: ' + errorType + ' With message: ' + errorMessage);
    },
    timeout: 3000

}); // end $.ajax()
}); // end .on('click')
}); // end document ready
</script>
</body>
</html>
